$(function(){$(".contactForm input,.contactForm textarea").jqBootstrapValidation({preventSubmit:true,submitError:function($form,event,errors){},submitSuccess:function($form,event){event.preventDefault();$("[type=submit]").prop("disabled",true).button('loading');var form=$form.attr("name");var name=$form.find("[name=name]").val();var phone=$form.find("[name=phone]").val();var firstName=name;if(firstName.indexOf(' ')>=0){firstName=name.split(' ').slice(0,-1).join(' ');}$.ajax({url:"././mail/mail.php",type:"POST",data:{form:form,name:name,phone:phone},cache:false,success:function(){$('.success').html("<div class='alert alert-success'>");$('.success > .alert-success').html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>");$('.success > .alert-success').append("<strong>Ваше сообщение успешно отправлено. В ближайшее время наши менеджеры свяжутся с вами! </strong>");$('.success > .alert-success').append('</div>');document.location.href="./success.html";$("[type=submit]").prop("disabled",false).button('reset');$('.contactForm').trigger("reset");},error:function(){$('.success').html("<div class='alert alert-danger'>");$('.success > .alert-danger').html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>");$('.success > .alert-danger').append("<strong>Приносим свои извинения, "+firstName+", но наш почтовый сервер времено не работает. Попробуйте, отправить сообщение еще раз и сообщите нам о проблеме!");$('.success > .alert-danger').append('</div>');$("[type=submit]").prop("disabled",false).button('reset');$('.contactForm').trigger("reset");},})},filter:function(){return $(this).is(":visible");},});$("a[data-toggle=\"tab\"]").click(function(e){e.preventDefault();$(this).tab("show");});});$('#name').focus(function(){$('.success').html('');});